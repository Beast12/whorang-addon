#!/command/with-contenv bash
# ==============================================================================
# Home Assistant Add-on: WhoRang - Node.js Service
# ==============================================================================

echo "Starting WhoRang backend..."

# Change to the app directory
cd /app || exit 1

# Execute the Node.js server as the 'whorun' user.
# The user is created in the Dockerfile, and all environment variables
# are passed by s6-overlay from the cont-init scripts.
exec s6-setuidgid whorun node server.js
